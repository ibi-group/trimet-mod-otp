# react-router config, for URL routing (not to be confused with multimodal/OTP routing)
#reactRouter:
  # If app is to be deployed to a URL subdirectory (e.g. http://foo.bar/app), specify the path here:
  #basename: map

branding: trimet
homeTimezone: America/Los_Angeles

# Default OTP API
api:
  host: https://trimet-otp.ibi-transit.com
  # host: http://localhost:8001 # For testing against a local OTP instance
  path: /otp/routers/default

# Enabled multimodal routing types (e.g. interary, profile)
routingTypes:
  - key: ITINERARY
    text: Exact Time

  # Delete/uncomment the following block to disable profile routing
  #- key: PROFILE
  #  text: Time Window
  #  api: # Specifies a different API endpoint for profile routing
  #    host: https://trimet-modeify.conveyal.com
  #    path: /api

# Show/hide elevation profile chart for walk/bike legs
elevationProfile: true

# Provide a list of operators to enhance the user experience for multi-agency
# implementations. The order of the agencies will dictate the order that routes
# appear in the route viewer. Also, optionally provide operator logos to appear
# in narrative itinerary (matched on agency_id). Note: these logos will
# override the values found in agency.txt#agency_branding_url.
operators:
  - id: psc
    logo: https://d2tyb7byn1fef9.cloudfront.net/psc.png
  - id: TRIMET
    name: TriMet
    logo: http://news.trimet.org/wordpress/wp-content/uploads/2019/04/TriMet-logo-300x300.png
  - id: TRAM
    logo: https://d2tyb7byn1fef9.cloudfront.net/tram.png
    # There are multiple C-TRAN operators listed here because the agency's GTFS feed does
    # not come with agency_id filled. We're accounting for multiple cases where the
    # agency_id could be auto-generated by OTP.
  - id: CTRAN
    name: C-TRAN
    logo: https://d2tyb7byn1fef9.cloudfront.net/ctran.png
    order: 9999999
  - id: '1' # accidentally forgot to add C-TRAN agency_id to routes.
    name: C-TRAN
    logo: https://d2tyb7byn1fef9.cloudfront.net/ctran.png
    order: 9999999
  - id: '2' # accidentally forgot to add C-TRAN agency_id to routes.
    name: C-TRAN
    logo: https://d2tyb7byn1fef9.cloudfront.net/ctran.png
    defaultRouteColor: ffffff
    defaultRouteTextColor: '000000'
    longNameSplitter: ' - '
    order: 9999999

# Add suggested locations to be shown as options in the form view.
# locations:
#   - id: 'airport'
#     icon: 'plane'
#     name: 'Portland International Airport (PDX)'
#     lat: 45.587579
#     lon: -122.593084
#   - id: 'zoo'
#     icon: building
#     lat: 45.51010444232195
#     lon: -122.71607145667079
#     name: Oregon Zoo, Portland, OR

### The persistence setting is used to enable the storage of places (home, work),
### recent searches/places, user overrides, and favorite stops. Currently the
### only strategy is localStorage (which is used by default)
### TODO: add another server-based strategy
persistence:
  enabled: true
  strategy: localStorage

# Map config
map:
  # Enabled map views
  views:
    - type: DEFAULT
      text: Map View
    # Delete/uncomment the following block to disable the stylized map
    #- type: STYLIZED
    #  text: Network View

  # Default map center
  initLat: 45.52
  initLon: -122.682

  # closer-in zoom levels don't have any tiles that could be rendered by
  # TriMet's tile service
  maxZoom: 19

  # Base layers for default map
  baseLayers:
    - name: Streets
      url: //tile{s}.trimet.org/tilecache/tilecache.py/1.0.0/currentOSM/{z}/{x}/{y}
      attribution: 'Map tiles: <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.'
      maxZoom: 20

    # - name: Streets
    #   url: //cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}@2x.png
    #   subdomains: 'abcd'
    #   attribution: 'Map tiles: &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, &copy; <a href="https://carto.com/attributions">CARTO</a>'
    #   maxZoom: 20

    - name: Aerials
      url: //tile{s}.trimet.org/tilecache/tilecache.py/1.0.0/hybridOSM/{z}/{x}/{y}
      attribution: 'Map tiles: <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.'
      maxZoom: 20

  overlays:
    - type: bike-rental
      name: Biketown Locations
      modes:
        - BICYCLE_RENT
      mapSymbols:
        - maxZoom: 13
          minZoom: 0
          type: circle
          pixels: 4
          fillColor: "#FF2E28"
          dockStrokeColor: "#000000"
        - maxZoom: 17
          minZoom: 14
          type: circle
          pixels: 6
          fillColor: "#FF2E28"
          dockStrokeColor: "#000000"
        - maxZoom: 999
          minZoom: 18
          type: hubAndFloatingBike

    - type: micromobility-rental
      name: Bolt E-scooter Locations
      modes:
        - MICROMOBILITY_RENT
      companies:
        - BOLT
      mapSymbols:
        - maxZoom: 13
          minZoom: 0
          type: circle
          pixels: 4
          fillColor: "#FEE502"
          strokeColor: "#000000"
        - maxZoom: 17
          minZoom: 14
          type: circle
          pixels: 6
          fillColor: "#FEE502"
          strokeColor: "#000000"
        - maxZoom: 999
          minZoom: 18
          fillColor: "#FEE502"
          type: marker

    - type: micromobility-rental
      name: Gruv E-scooter Locations
      modes:
        - MICROMOBILITY_RENT
      companies:
        - CLEVR
      mapSymbols:
        - maxZoom: 13
          minZoom: 0
          type: circle
          pixels: 4
          fillColor: "#0171bc"
          strokeColor: "#CCCCCC"
        - maxZoom: 17
          minZoom: 14
          type: circle
          pixels: 6
          fillColor: "#0171bc"
          strokeColor: "#CCCCCC"
        - maxZoom: 999
          minZoom: 18
          fillColor: "#0171bc"
          type: marker

    - type: micromobility-rental
      name: Lime E-scooter Locations
      modes:
        - MICROMOBILITY_RENT
      companies:
        - LIME
      mapSymbols:
        - maxZoom: 13
          minZoom: 0
          type: circle
          pixels: 4
          fillColor: "#24D000"
          strokeColor: "#CCCCCC"
        - maxZoom: 17
          minZoom: 14
          type: circle
          pixels: 6
          fillColor: "#24D000"
          strokeColor: "#CCCCCC"
        - maxZoom: 999
          minZoom: 18
          fillColor: "#24D000"
          type: marker

    - type: micromobility-rental
      name: Razor E-scooter Locations
      modes:
        - MICROMOBILITY_RENT
      companies:
        - RAZOR
      mapSymbols:
        - maxZoom: 13
          minZoom: 0
          type: circle
          pixels: 4
          fillColor: "#EE2D15"
          strokeColor: "#CCCCCC"
        - maxZoom: 17
          minZoom: 14
          type: circle
          pixels: 6
          fillColor: "#EE2D15"
          strokeColor: "#CCCCCC"
        - maxZoom: 999
          minZoom: 18
          fillColor: "#EE2D15"
          type: marker

    - type: micromobility-rental
      name: shared E-scooter Locations
      modes:
        - MICROMOBILITY_RENT
      companies:
        - SHARED
      mapSymbols:
        - maxZoom: 13
          minZoom: 0
          type: circle
          pixels: 4
          fillColor: "#F80600"
          strokeColor: "#CCCCCC"
        - maxZoom: 17
          minZoom: 14
          type: circle
          pixels: 6
          fillColor: "#F80600"
          strokeColor: "#CCCCCC"
        - maxZoom: 999
          minZoom: 18
          fillColor: "#F80600"
          type: marker

    - type: micromobility-rental
      name: Spin E-scooter Locations
      modes:
        - MICROMOBILITY_RENT
      companies:
        - SPIN
      mapSymbols:
        - maxZoom: 13
          minZoom: 0
          type: circle
          pixels: 4
          fillColor: "#FF6D01"
          strokeColor: "#CCCCCC"
        - maxZoom: 17
          minZoom: 14
          type: circle
          pixels: 6
          fillColor: "#FF6D01"
          strokeColor: "#CCCCCC"
        - maxZoom: 999
          minZoom: 18
          fillColor: "#FF6D01"
          type: marker

    - type: micromobility-rental
      name: Bird E-scooter Locations
      modes:
        - MICROMOBILITY_RENT
      companies:
        - BIRD
      mapSymbols:
        - maxZoom: 13
          minZoom: 0
          type: circle
          pixels: 4
          fillColor: "#000000"
          strokeColor: "#CCCCCC"
        - maxZoom: 17
          minZoom: 14
          type: circle
          pixels: 6
          fillColor: "#000000"
          strokeColor: "#CCCCCC"
        - maxZoom: 999
          minZoom: 18
          fillColor: "#000000"
          type: marker

    - type: car-rental
      name: car2go Locations
      modes:
        - CAR_RENT
      companies:
        - CAR2GO
      mapSymbols:
        - maxZoom: 13
          minZoom: 0
          type: circle
          pixels: 4
          fillColor: "#009cde"
        - maxZoom: 17
          minZoom: 14
          type: circle
          pixels: 6
          fillColor: "#009cde"
        - maxZoom: 999
          minZoom: 18
          fillColor: "#009cde"
          type: marker

    - type: car-rental
      name: REACH NOW Locations
      modes:
        - CAR_RENT
      companies:
        - REACHNOW
      mapSymbols:
        - maxZoom: 13
          minZoom: 0
          type: circle
          pixels: 4
          fillColor: "#007fa3"
        - maxZoom: 17
          minZoom: 14
          type: circle
          pixels: 6
          fillColor: "#007fa3"
        - maxZoom: 999
          minZoom: 18
          fillColor: "#007fa3"
          type: marker

    - type: park-and-ride
      name: Park & Ride Locations
      maxTransitDistance: 1000
      modes:
        - CAR_PARK

    - type: stops
      name: Transit Stops
      visible: true

    - type: tile
      name: Transit Routes
      tileUrl: https://d2dyq00q2cz8yt.cloudfront.net/{z}_{x}_{y}@2x.png
      # visible: true

    - type: zipcar
      name: Zipcar Locations
      api: https://modbeta.trimet.org/ws/carshare/zipcar/data.json

# Pelias Geocoder config
# (Note: this format may eventually change to allow other geocoding services)
geocoder:
  # Pelias API endpoint
  baseUrl: https://ws-st.trimet.org/pelias/v1

  # Geocoding search bounds
  boundary:
    rect:
      minLon: -123.2034
      maxLon: -122.135
      minLat: 45.273
      maxLat: 45.7445

  maxNearbyStops: 6
  type: PELIAS

# Mode selector configuration
modes:
  # types of allowable transit modes
  transitModes:
    - mode: BUS
      label: Bus
    - mode: TRAM
      label: MAX & Streetcar
    - mode: RAIL
      label: WES
    - mode: GONDOLA
      label: Aerial Tram

  # access to transit modes. These options are all combined with the above
  # transit modes in the request to OTP
  accessModes:
    - mode: BICYCLE
      label: Transit + Personal bike
    - mode: BICYCLE_RENT
      label: Transit + Biketown
      company: BIKETOWN
    - mode: MICROMOBILITY_RENT
      label: Transit + E-scooter rental
    - mode: CAR_PARK
      label: Park & Ride
    - mode: CAR_RENT
      label: Transit + car2go
      company: CAR2GO
    - mode: CAR_RENT
      label: Transit + REACH NOW
      company: REACHNOW
    - mode: CAR_HAIL
      label: Transit + Uber
      company: UBER
      showWheelchairSetting: true

  # which exclusive modes to show. This involves using a single mode and no
  # transit for the duration of the trip. Further configurations of
  # `bicycleModes`, `micromobilityModes` and/or `carModes` are needed as
  # desired, but no extra configuration is needed for a WALK exclusive mode.
  exclusiveModes:
    - WALK
    - BICYCLE

  # button definitions for exclusive bicycle mode options
  bicycleModes:
    - mode: BICYCLE
      label: Own Bike
      iconWidth: 18
    - mode: BICYCLE_RENT
      label: Biketown
      iconWidth: 36

  # button definitions for exclusive micromobility mode options
  # micromobilityModes:
  #   - mode: MICROMOBILITY
  #     label: Own E-scooter
  #     iconWidth: 18
  #   - mode: MICROMOBILITY_RENT
  #     label: E-scooter rental
  #     iconWidth: 36

# A list of private transportation operators. These are either companies that
# provide rental vehicles or transportation network companies. Companies that
# have multiple modes of transport should have all modes listed as a string with
# commas. For example: BICYCLE_RENT,MICROMOBILITY_RENT.
companies:
  - id: BIKETOWN
    label: Biketown
    modes: BICYCLE_RENT
  - id: BOLT
    label: Bolt
    modes: MICROMOBILITY_RENT
  - id: CAR2GO
    label: car2go
    modes: CAR_RENT
  - id: CLEVR
    label: Gruv
    modes: MICROMOBILITY_RENT
  - id: LIME
    label: Lime
    modes: MICROMOBILITY_RENT
  - id: RAZOR
    label: Razor
    modes: MICROMOBILITY_RENT
  - id: REACHNOW
    label: REACH NOW
    modes: CAR_RENT
  - id: SHARED
    label: shared
    modes: MICROMOBILITY_RENT
  - id: SPIN
    label: SPIN
    modes: MICROMOBILITY_RENT
  - id: UBER
    label: Uber
    modes: CAR_HAIL
  - id: BIRD
    label: Bird
    modes: MICROMOBILITY_RENT

errorMessages:
  - id: 404
    msg: Sorry, we couldn't find any transit or rideshare/carshare options at the time and/or location you chose. Please try again later, or change the settings of your trip.
    modes:
      - CAR_HAIL
      - CAR_RENT
  - id: 405
    msg: Sorry, we couldn't find any transit or rideshare/carshare options at the time and/or location you chose. Please try again later, or change the settings of your trip.
    modes:
      - CAR_HAIL
      - CAR_RENT
  - id: 480
    msg: No available transit routes or rideshare/carshare service at origin.

reportIssue:
  mailto: gis@trimet.org

analytics:
  google:
    globalSiteTag: UA-133677388-1

# Temporary language overrides -- eventually replace w/ I18N language tables
language:
  storageDisclaimer: Any preferences, places, or settings you opt to save will be stored in your browser's local storage only. TriMet will not have access to knowledge about your home, work, or any other location. At any point you can opt to turn off remembering recent places/searches and clear your saved home/work locations and favorite stops.
  routeViewer: Route Viewer
  routeViewerDetails: Select a route to display it on the map and to view more information about the route.
  tripViewer: Trip Viewer
  stopViewer: Stop Viewer

dateTime:
  timeFormat: h:mm a
  dateFormat: MM/DD/YYYY
  longDateFormat: MMMM D, YYYY

# Alternate TransitIndex API
alternateTransitIndex:
 apiRoot: https://newplanner.trimet.org/ws/ti/v0/
 services:
    - stops
    - stops/routes
    - routes
